# shooter.nvim -- Project Context

## Project Overview

Neovim plugin for managing iterative development workflows using a shot-based approach. Shots are discrete work units defined in markdown shotfiles, which can be sent to AI agents via tmux panes. Refactored from divramod's dotfiles next-action workflow into a standalone, publishable plugin.

## Tech Stack

- **Language**: Lua (Neovim plugin)
- **Test Framework**: plenary.nvim (busted-style)
- **Dependencies**: telescope.nvim, oil.nvim, nui.nvim
- **External**: tmux, Claude Code CLI

## Repository Structure

```
lua/shooter/           Plugin source code
  core/                Core modules (files, shots, movement, project, context)
  telescope/           Telescope pickers and actions
  tmux/                Tmux integration (send, detect, create, panes)
  queue/               Shot queue management
  dashboard/           NuiTree dashboard UI
  session/             YAML session management
  keymaps/             Context-specific keymaps (picker, oil)
  context/             Context detection and resolvers
templates/             Context file templates
tests/                 plenary.nvim test specs
doc/                   Vim help documentation
plans/prompts/         Shotfiles (development tasks)
.shooter.nvim/         Per-repo config and images
```

## Development Workflow

- Work tracked in beads (`bd`), prefix: `snvim`
- Shots in `plans/prompts/*.md` define features and fixes
- `bd ready` to find work, `bd close` to complete
- Tests run via plenary: `:PlenaryBustedDirectory tests/`

## Key Conventions

- **200-line maximum per file**: Enforces single responsibility
- **Zero auto-initialization**: Plugin only activates when `setup()` is called
- **Context-aware commands**: Same keymap works identically across telescope, oil, and buffer contexts
- **8 namespaces**: Shotfile, Shot, Tmux, Subproject, Tools, Cfg, Analytics, Help

## Important Notes

- Always update README.md when adding commands, keybindings, or config options
- All modules have corresponding `*_spec.lua` test files
- Context files: global at `~/.config/shooter.nvim/`, project at `.shooter.nvim/`
